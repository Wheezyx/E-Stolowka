<header>
  <h3 class="users-header">Lista użytkowników</h3>
</header>
<mat-table [dataSource]="users" matSort matSortDisableClear >
  <ng-container matColumnDef="name">
    <mat-header-cell *matHeaderCellDef> Imię </mat-header-cell>
    <mat-cell *matCellDef="let user"> {{user.name}} </mat-cell>
  </ng-container>
  <ng-container matColumnDef="surname">
    <mat-header-cell *matHeaderCellDef mat-sort-header> Nazwisko </mat-header-cell>
    <mat-cell *matCellDef="let user"> {{user.surname}} </mat-cell>
  </ng-container>
  <ng-container matColumnDef="index">
    <mat-header-cell *matHeaderCellDef mat-sort-header> Nr indeksu </mat-header-cell>
    <mat-cell *matCellDef="let user"> {{user.index}}</mat-cell>
  </ng-container>
  <ng-container matColumnDef="email">
    <mat-header-cell *matHeaderCellDef mat-sort-header> Email </mat-header-cell>
    <mat-cell *matCellDef="let user"> {{user.email}} </mat-cell>
  </ng-container>
  <ng-container matColumnDef="active">
    <mat-header-cell *matHeaderCellDef mat-sort-header> Aktywny </mat-header-cell>
    <mat-cell *matCellDef="let user">
      <span *ngIf="user.active else notActiveTag" class="green-text"><img src="../../assets/img/check.png">
      </span> 
    </mat-cell>
  </ng-container>
  <ng-container matColumnDef="block">
    <mat-header-cell *matHeaderCellDef mat-sort-header> Blokowanie </mat-header-cell>
    <mat-cell *matCellDef="let user">
      <button (click)="changeUserStatus(user.email)" *ngIf="user.active else activate"> Zablokuj </button>
    </mat-cell>
  </ng-container>
  <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
  <mat-row *matRowDef="let row; columns: displayedColumns;">
  </mat-row>
</mat-table>
<ng-template #notActiveTag>
  <span class="red-text">
      <img src="../../assets/img/redx.png">
  </span>
</ng-template>
<ng-template #activate>
  <button (click)="changeUserStatus(user.email)"> Aktywuj </button>
</ng-template>
<mat-paginator [length]="totalElements" [pageSize]="pageable.size" [pageSizeOptions]="pageSizeOptions">
</mat-paginator>